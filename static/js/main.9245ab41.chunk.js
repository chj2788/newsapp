(this.webpackJsonpnewsapp=this.webpackJsonpnewsapp||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(11),c=n.n(r),i=(n(93),n(10)),l=n(141),s=n(142),o=n(156),d=n(148),j=n(144),b=n(147),u=n(157),g=n(150),h=n(159),O=n(151),x=n(12),p=n(28),f=n(136),m=n(139),y=n(107),v=n(154),S=n(152),w=n(155),C=n(46),I=n.n(C),k=n(2),D=Object(f.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1,marginLeft:"15%",fontFamily:"Pattaya",color:e.palette.primary.light}}})),F=function(e){var t=e.loggedIn,n=e.setLoggedIn,r=D(),c="alyce",o="alyce123",d=Object(a.useState)(""),b=Object(i.a)(d,2),u=b[0],g=b[1],h=Object(a.useState)(""),O=Object(i.a)(h,2),x=O[0],p=O[1],f=Object(a.useState)(!1),C=Object(i.a)(f,2),F=C[0],L=C[1],A=Object(a.useState)(!1),T=Object(i.a)(A,2),N=T[0],W=T[1],J=function(){L(!1)},z=function(){W(!1)};return Object(k.jsx)("div",{className:r.root,children:Object(k.jsx)(m.a,{style:{padding:"0.3em 0"},children:Object(k.jsxs)(l.a,{children:[Object(k.jsx)(y.a,{variant:"h4",className:r.title,children:"News App"}),t&&Object(k.jsx)("div",{onClick:function(){W(!0)},style:{marginRight:"15%"},children:Object(k.jsx)(v.a,{alt:"Alyce",children:"A"})}),!t&&Object(k.jsx)(s.a,{onClick:function(){L(!0)},color:"inherit",style:{marginRight:"2em"},children:"Login"}),Object(k.jsx)(S.a,{style:{display:"flex",padding:"2em",alignItems:"center",justifyContent:"center"},open:N,onClose:z,children:Object(k.jsxs)("div",{style:{position:"absolute",width:400,backgroundColor:"white",border:"1px solid black",padding:"2em 3em"},children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(k.jsxs)("h2",{children:["Hello, ",c]}),Object(k.jsx)(j.a,{onClick:z,children:Object(k.jsx)(I.a,{})})]}),Object(k.jsx)("p",{children:"You can now add or edit your favorite articles."}),Object(k.jsx)("div",{style:{marginTop:"3em"},children:Object(k.jsx)(s.a,{fullWidth:!0,onClick:function(){window.confirm("Are you sure you want to sign out?")&&(n(!1),localStorage.setItem("login",JSON.stringify(!1)),W(!1),alert("successfully logged out! You can't access the starred page anymore :("))},children:"Sign out"})})]})}),Object(k.jsx)(S.a,{style:{display:"flex",padding:"2em",alignItems:"center",justifyContent:"center"},open:F,onClose:J,children:Object(k.jsxs)("div",{style:{position:"absolute",width:400,backgroundColor:"white",border:"1px solid black",padding:"2em 3em"},children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(k.jsx)("h2",{children:"LogIn"}),Object(k.jsx)(j.a,{onClick:J,children:Object(k.jsx)(I.a,{})})]}),Object(k.jsx)("div",{style:{marginTop:"2em"},children:Object(k.jsx)(w.a,{name:"id",label:"id",variant:"outlined",value:u,onChange:function(e){g(e.target.value)},fullWidth:!0,required:!0,error:""===u,helperText:"please enter your id"})}),Object(k.jsx)("div",{style:{margin:"1em 0 2em"},children:Object(k.jsx)(w.a,{name:"password",label:"password",variant:"outlined",value:x,fullWidth:!0,required:!0,onChange:function(e){p(e.target.value)},error:""===x,helperText:"please enter your password",type:"password"})}),Object(k.jsx)("div",{children:Object(k.jsx)(s.a,{fullWidth:!0,onClick:function(){u===c&&x===o?(n(!0),alert("successfully logged in! You can now access the starred page"),L(!1),localStorage.setItem("login",JSON.stringify(!0))):alert("The id and password you entered did not match our Records. Please double-check and try again")},disabled:""===u||""===x,children:"Login"})})]})})]})})})},L=n(14),A=n(158),T=n(72),N=n.n(T),W=n(74),J=n.n(W),z=function(e){var t=e.news,n=e.starred,r=e.setStarred,c=e.loggedIn,l=new Date(t.publishedAt).toString().split(" "),o=Object(a.useState)(!1),d=Object(i.a)(o,2),b=d[0],u=d[1],g=Object(a.useState)(t.description),h=Object(i.a)(g,2),O=h[0],x=h[1],p=Object(a.useState)(t.title),f=Object(i.a)(p,2),m=f[0],y=f[1],v=Object(a.useState)(t.author),C=Object(i.a)(v,2),D=C[0],F=C[1],T=function(){u(!1)},W=n.includes(t),z=n.filter((function(e){return e!==t})),B=t,R=Object(a.useCallback)((function(){W?(r(n.filter((function(e){return e!==t}))),localStorage.setItem("article",JSON.stringify(n))):(r([t].concat(Object(L.a)(n))),localStorage.setItem("article",JSON.stringify(n)))}),[t,n]);return Object(k.jsxs)("div",{style:{display:"flex",width:"100%",boxShadow:"0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12)",padding:"2em 0",marginBottom:"2em",borderRadius:"5px"},children:[Object(k.jsx)("div",{style:{paddingLeft:"1.5em"},children:Object(k.jsx)("img",{alt:t.title,src:t.urlToImage?t.urlToImage:"http://www.aaru.edu.jo/websites/aaru2/wp-content/plugins/learnpress/assets/images/no-image.png?Mobile=1&Source=%2F%5Flayouts%2Fmobile%2Fdispform%2Easpx%3FList%3D78b536db%252De7c7%252D45d9%252Da661%252Ddb2a2aa2fbaf%26View%3D6efc759a%252D0646%252D433c%252Dab6e%252D2f027ffe0799%26RootFolder%3D%252Fwebsites%252Faaru2%252Fwp%252Dcontent%252Fplugins%252Flearnpress%252Fassets%252Fimages%26ID%3D4786%26CurrentPage%3D1",style:{objectFit:"cover",width:"15em",height:"15em"}})}),Object(k.jsxs)("div",{style:{padding:"0 1.5em",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{style:{fontSize:"1.5em",lineHeight:"1em"},children:t.title}),Object(k.jsx)("br",{}),Object(k.jsx)("span",{style:{fontSize:"0.8em",fontWeight:300,lineHeight:"2em",color:"#808290"},children:Object(k.jsxs)("span",{style:{fontWeight:100},children:["by ",t.author?t.author:"unknown"," / on ",l[0]," ",l[1]," ",l[2],", ",l[3]]})})]}),Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",flex:1,padding:"1em 0"},children:[Object(k.jsx)("div",{style:{fontSize:"1em",lineHeight:"1.5em",color:"#44444d"},children:t.description}),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{children:[c&&Object(k.jsx)(j.a,{onClick:R,children:Object(k.jsx)(N.a,{style:W?{color:"#ffc400",fontSize:"1.3em"}:{fontSize:"1.3em"}})}),W&&c&&Object(k.jsx)(A.a,{title:"Click to edit the content",children:Object(k.jsx)(j.a,{onClick:function(){u(!0)},children:Object(k.jsx)(J.a,{})})})]})}),Object(k.jsx)(S.a,{style:{display:"flex",padding:"2em",alignItems:"center",justifyContent:"center"},open:b,onClose:T,children:Object(k.jsxs)("div",{style:{position:"absolute",width:400,backgroundColor:"white",border:"1px solid black",padding:"2em 3em"},children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(k.jsx)("h2",{children:"Edit your favorite article"}),Object(k.jsx)(j.a,{onClick:T,children:Object(k.jsx)(I.a,{})})]}),Object(k.jsx)("div",{style:{marginTop:"2em"},children:Object(k.jsx)(w.a,{name:"title",label:"title",variant:"outlined",value:m,fullWidth:!0,onChange:function(e){y(e.target.value)},required:!0,error:""===m,helperText:"please enter the title"})}),Object(k.jsx)("div",{style:{margin:"1em 0 2em"},children:Object(k.jsx)(w.a,{name:"content",label:"content",variant:"outlined",value:O,onChange:function(e){x(e.target.value)},fullWidth:!0,required:!0,error:""===O,helperText:"please enter the content"})}),Object(k.jsx)("div",{style:{margin:"1em 0 2em"},children:Object(k.jsx)(w.a,{name:"author",label:"author",variant:"outlined",value:D,onChange:function(e){F(e.target.value)},fullWidth:!0,required:!0,error:""===D,helperText:"please enter the author"})}),Object(k.jsx)("div",{children:Object(k.jsx)(s.a,{fullWidth:!0,onClick:function(){B.description=O,B.title=m,B.author=D,z.push(B),r(z),localStorage.setItem("article",JSON.stringify(n)),u(!1)},children:"Submit"})})]})}),Object(k.jsxs)("span",{style:{fontSize:"1em",fontWeight:400,paddingTop:"1em"},children:["read more at"," ",Object(k.jsx)("a",{href:t.url,target:"__blank",style:{textDecoration:"underline",color:"blue"},children:Object(k.jsx)("b",{children:t.source.name})})]})]})]})]})},B=n(61),R=n.n(B),P=n(75),q="https://newsapi.org/v2/everything?apiKey=a4da606719284ef3ae2d5f494f5412f3&pageSize=20&q=";function H(){return(H=Object(P.a)(R.a.mark((function e(t,n,a){var r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(q).concat(t,"&page=").concat(n,"&sortBy=").concat(a)).then((function(e){return e.json()}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=n(76),E=n.n(M),Y=function(e){var t=e.loggedIn,n=e.setLoggedIn,r=e.starred,c=e.setStarred,f=Object(a.useState)(""),m=Object(i.a)(f,2),y=m[0],v=m[1],S=Object(a.useState)(1),w=Object(i.a)(S,2),C=w[0],I=w[1],D=Object(a.useState)([]),L=Object(i.a)(D,2),A=L[0],T=L[1],N=Object(a.useState)(0),W=Object(i.a)(N,2),J=W[0],B=W[1],R=Object(a.useState)("publishedAt"),P=Object(i.a)(R,2),q=P[0],M=P[1],Y=Object(x.g)(),G=Object(a.useCallback)((function(e){v(e.target.value)}),[v]),K=function(){(function(e,t,n){return H.apply(this,arguments)})(y,C,q).then((function(e){T(e.articles),B(e.totalResults)}))};Object(a.useEffect)((function(){K()}),[C,q]);var _=Object(a.useCallback)((function(e,t){I(t),console.log(t)}),[]);return Object(k.jsxs)("div",{style:{margin:"0 15%",fontFamily:"Oxygen"},children:[Object(k.jsx)(F,{loggedIn:t,setLoggedIn:n}),Object(k.jsx)(l.a,{}),t?Object(k.jsxs)("div",{style:{textAlign:"center",margin:"2em"},children:[Object(k.jsx)(s.a,{variant:"contained",color:"/"===Y.pathname?"primary":"default",children:Object(k.jsx)(p.b,{style:{textDecoration:"none",color:"gray"},exact:!0,to:"/",children:"Home"})}),Object(k.jsx)(s.a,{variant:"contained",color:"/starred"===Y.pathname?"primary":"default",children:Object(k.jsx)(p.b,{style:{textDecoration:"none",color:"gray"},exact:!0,to:"/starred",children:"My favorites"})})]}):Object(k.jsx)("div",{style:{textAlign:"center",margin:"2em",fontWeight:500,color:"red"},children:"\u2191\u2191\u2191 Please Log in to use Favorite feature \u2191\u2191\u2191"}),Object(k.jsx)("div",{style:{marginBottom:"2em"},children:Object(k.jsx)(o.a,{fullWidth:!0,placeholder:"Search here...",value:y,onChange:G,onKeyDown:function(e){13===e.keyCode&&K()},endAdornment:Object(k.jsx)(d.a,{position:"end",children:Object(k.jsx)(j.a,{onClick:K,children:Object(k.jsx)(E.a,{})})})})}),Object(k.jsx)("div",{style:{marginBottom:"1em"},children:Object(k.jsxs)(b.a,{variant:"outlined",children:[Object(k.jsx)(u.a,{children:"Sort By"}),Object(k.jsxs)(g.a,{value:q,onChange:function(e){return M(e.target.value)},label:"Sort By",children:[Object(k.jsx)(h.a,{value:"publishedAt",children:"Most Recent"}),Object(k.jsx)(h.a,{value:"popularity",children:"Popularity"}),Object(k.jsx)(h.a,{value:"relevancy",children:"Relevance"})]})]})}),Object(k.jsx)("div",{children:A&&J>0?A.map((function(e){return Object(k.jsx)(z,{news:e,starred:r,setStarred:c,loggedIn:t},e.url+e.publishedAt)})):Object(k.jsx)("div",{style:{textAlign:"center",margin:"2em 0"},children:"News Not Found"})}),Object(k.jsx)("div",{style:{margin:"5em 0 3em"},children:Object(k.jsx)(O.a,{count:J>100?5:Math.ceil(J/20),page:C,onChange:_,color:"primary",variant:"outlined",size:"large"})})]})},G=function(e){var t=e.loggedIn,n=e.setLoggedIn,a=e.starred,r=e.setStarred,c=Object(x.g)();return Object(k.jsxs)("div",{style:{margin:"0 15%",fontFamily:"Oxygen"},children:[Object(k.jsx)(F,{loggedIn:t,setLoggedIn:n}),Object(k.jsx)(l.a,{}),Object(k.jsxs)("div",{style:{textAlign:"center",margin:"2em"},children:[Object(k.jsx)(s.a,{variant:"contained",color:"/"===c.pathname?"primary":"default",children:Object(k.jsx)(p.b,{style:{textDecoration:"none",color:"gray"},exact:!0,to:"/",children:"Home"})}),Object(k.jsx)(s.a,{variant:"contained",color:"/starred"===c.pathname?"primary":"default",children:Object(k.jsx)(p.b,{style:{textDecoration:"none",color:"gray"},exact:!0,to:"/starred",children:"My favorites"})})]}),a.map((function(e){return Object(k.jsx)(z,{news:e,starred:a,setStarred:r,loggedIn:t},e.url+e.publishedAt)}))]})},K=n(64),_=n(3),V=function(e){var t=e.children,n=e.loggedIn,a=Object(_.a)(e,["children","loggedIn"]);return n?Object(k.jsx)(x.b,Object(K.a)(Object(K.a)({},a),{},{children:t})):Object(k.jsx)(x.a,{to:"/"})};var Q=function(){var e=localStorage.getItem("login"),t=Object(a.useState)(!!localStorage.getItem("login")&&JSON.parse(e)),n=Object(i.a)(t,2),r=n[0],c=n[1],l=localStorage.getItem("article"),s=Object(a.useState)(localStorage.getItem("article")?JSON.parse(l):[]),o=Object(i.a)(s,2),d=o[0],j=o[1];return Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)(x.d,{children:[Object(k.jsx)(x.b,{exact:!0,path:"/",children:Object(k.jsx)(Y,{loggedIn:r,setLoggedIn:c,starred:d,setStarred:j})}),Object(k.jsx)(V,{exact:!0,path:"/starred",loggedIn:r,children:Object(k.jsx)(G,{loggedIn:r,setLoggedIn:c,starred:d,setStarred:j})})]})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,160)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},X=n(77),Z=n(149),$=Object(X.a)({palette:{type:"light",primary:{main:"#212121",dark:"#484848",light:"#ffffff"},secondary:{main:"#212121",dark:"#484848"}},typography:{fontFamily:"Oxygen"}});c.a.render(Object(k.jsx)(p.a,{children:Object(k.jsx)(Z.a,{theme:$,children:Object(k.jsx)(Q,{})})}),document.getElementById("root")),U()},93:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.9245ab41.chunk.js.map